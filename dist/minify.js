let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t?e.push(t):console.log("Pokemon is not correct")}function n(){return e}function o(e){pokemonRepository.loadDetails(e).then(function(){let t=document.querySelector(".modal-body"),n=document.querySelector(".modal-title");document.querySelector(".modal-header");let o=document.querySelector(".modal-image"),i=document.querySelector(".modal-height"),r=document.querySelector(".modal-types");n.innerText=e.name[0].toUpperCase()+e.name.slice(1),o.setAttribute("src",e.imageUrl),i.innerText="Height: "+e.height,r.innerText="Types: ",t.append(o),t.append(i);let a=[];e.types.forEach(e=>{let n=document.createElement("p");a.push(n.innerText),n.innerText=e.type.name[0].toUpperCase()+e.type.name.slice(1),r.appendChild(n),t.appendChild(r)})})}return window.addEventListener("keydown",e=>{let t=document.querySelector("#modal-container");"Escape"===e.key&&t.classList.contains("is-visible")&&document.querySelector("#modal-container").classList.remove("is-visible")}),{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector("ul");n.classList.add("pokemon-grid");let i=document.createElement("li");uppercaseName=t.name[0].toUpperCase()+t.name.slice(1),i.innerText=uppercaseName,i.classList.add("pokemon-grid-item"),n.appendChild(i);let r=document.createElement("button");r.classList.add("btn","btn-secondary","btn-sm"),r.innerText="See details",r.setAttribute("type","button"),r.setAttribute("data-toggle","modal"),r.setAttribute("data-target","#exampleModal"),i.appendChild(r),r.addEventListener("click",function(){o(t)}),pokemonRepository.loadDetails(t).then(function(){let e=document.createElement("img");e.src=t.imageUrl,i.appendChild(e)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types}).catch(function(e){console.error(e)})},showDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});